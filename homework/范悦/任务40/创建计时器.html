<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
</head>
<style>
	li{
		margin:100px;
		list-style:none;
	}
</style>
<body>
    <ul>
    	<li>1</li>
    	<li>2</li>
    	<li>3</li>
    	<li>4</li>
    	<li>5</li>
    	<li>6</li>
    	<li>7</li>
    	<li>8</li>
    	<li>9</li>
    	<li>0</li>
    	<li>9</li>
    	<li>8</li>
    	<li>7</li>
    	<li>6</li>
    	<li>5</li>
    	<li>4</li>
    	<li>3</li>
    	<li class="target">222222222</li>
    	<li>1</li>
    	<li>0</li>
    </ul>
</body>
<script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
<script>
	
	// function createTimer(){
	// 	var timer={
	// 		start:function(){
	// 			this.time1 = Date.now();
	// 		},
	// 		end:function(){
	// 			this.time2 = Date.now();
	// 		},
	// 		get:function(){
	// 			return (this.time2-this.time1)
	// 		}
	// 	}
	//     return timer    
	// }
	// var timer1 = createTimer();
	// var timer2 = createTimer();
	// timer1.start();
	// for(var i=0;i<100;i++){
	//     console.log(i);
	// }
	// timer2.start();
	// for(var i=0;i<100;i++){
	//     console.log(i);
	// }
	// timer1.end();
	// timer2.end();
	// console.log(timer1.get());
	// console.log(timer2.get());
	


	//曝光加载组件
	//

var Expouse=(function(){
	function bind($el,fn){
		$(window).on('scroll',function(){
			if(!isShow($el)){
				return
			};
			if(isShow($el)){
			fn.call($el);
			};
		})
	}
	function one($el,fn){
		var stop = true;

		$(window).on('scroll',function(){
			if(stop===false){
				return
			};
			if(!isShow($el)){
				return
			};
			if(isShow($el)){
			fn.call($el);
			stop=false;
			};
		})
		
	}
	function isShow($el){
    var scrollTop = $(window).scrollTop(),
        winH      = $(window).height(),
        top       = $el.offset().top;
    if((scrollTop+winH)>top){
        return true
    }else{
        return false
    }
	}
	return{
		bind:bind,
		one:one
	}
})()

var $target = $('.target');

// Expouse.bind($target, function(){
//     console.log($(this));    // $target
// });

Expouse.one($target, function(){
    console.log($(this));    // $target
})
	


</script>
</html>